<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gradient Test - Diagonal Gradients Fix</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1099bb;
            font-family: Arial, sans-serif;
        }
        h1, h2, p {
            color: white;
        }
        #app {
            background: white;
            padding: 10px;
            display: inline-block;
            border-radius: 8px;
        }
        .info {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="info">
        <h1>Gradient Direction Test - Diagonal Gradients Fix</h1>
        <p><strong>Testing:</strong> All four diagonal gradient directions</p>
        <p><strong>Expected:</strong> Each gradient should go from red to green in the correct direction</p>
        <ul>
            <li>Top-left: Red at top-left corner, green at bottom-right</li>
            <li>Top-right: Red at bottom-left corner, green at top-right (THE BUG FIX)</li>
            <li>Bottom-left: Red at top-right corner, green at bottom-left</li>
            <li>Bottom-right: Red at bottom-right corner, green at top-left</li>
        </ul>
    </div>
    <div id="app"></div>
    
    <script src="dist/pixi.js"></script>
    <script>
        (async () => {
            const app = new PIXI.Application();
            await app.init({ 
                background: "#ffffff", 
                width: 450, 
                height: 450,
                antialias: true 
            });
            document.getElementById('app').appendChild(app.canvas);

            const size = 100;
            const spacing = 50;
            const offsetX = 25;
            const offsetY = 25;

            // Label style for text
            const labelStyle = new PIXI.TextStyle({
                fontFamily: 'Arial',
                fontSize: 12,
                fill: '#000000',
            });

            // Test 1: Top-left to bottom-right (0,0 -> 1,1)
            const gradient1 = new PIXI.FillGradient(0, 0, 1, 1, 'local');
            gradient1.addColorStop(0, 'red');
            gradient1.addColorStop(1, 'green');
            
            const graphic1 = new PIXI.Graphics();
            graphic1.rect(offsetX, offsetY, size, size);
            graphic1.fill(gradient1);
            
            const label1 = new PIXI.Text({
                text: 'TL→BR\n(0,0)→(1,1)',
                style: labelStyle
            });
            label1.x = offsetX;
            label1.y = offsetY + size + 5;

            // Test 2: Bottom-left to top-right (0,1 -> 1,0) - THE BUG FIX
            const gradient2 = new PIXI.FillGradient(0, 1, 1, 0, 'local');
            gradient2.addColorStop(0, 'red');
            gradient2.addColorStop(1, 'green');
            
            const graphic2 = new PIXI.Graphics();
            graphic2.rect(offsetX + size + spacing, offsetY, size, size);
            graphic2.fill(gradient2);
            
            const label2 = new PIXI.Text({
                text: 'BL→TR (FIX)\n(0,1)→(1,0)',
                style: labelStyle
            });
            label2.x = offsetX + size + spacing;
            label2.y = offsetY + size + 5;

            // Test 3: Top-right to bottom-left (1,0 -> 0,1)
            const gradient3 = new PIXI.FillGradient(1, 0, 0, 1, 'local');
            gradient3.addColorStop(0, 'red');
            gradient3.addColorStop(1, 'green');
            
            const graphic3 = new PIXI.Graphics();
            graphic3.rect(offsetX, offsetY + size + spacing, size, size);
            graphic3.fill(gradient3);
            
            const label3 = new PIXI.Text({
                text: 'TR→BL\n(1,0)→(0,1)',
                style: labelStyle
            });
            label3.x = offsetX;
            label3.y = offsetY + size + spacing + size + 5;

            // Test 4: Bottom-right to top-left (1,1 -> 0,0)
            const gradient4 = new PIXI.FillGradient(1, 1, 0, 0, 'local');
            gradient4.addColorStop(0, 'red');
            gradient4.addColorStop(1, 'green');
            
            const graphic4 = new PIXI.Graphics();
            graphic4.rect(offsetX + size + spacing, offsetY + size + spacing, size, size);
            graphic4.fill(gradient4);
            
            const label4 = new PIXI.Text({
                text: 'BR→TL\n(1,1)→(0,0)',
                style: labelStyle
            });
            label4.x = offsetX + size + spacing;
            label4.y = offsetY + size + spacing + size + 5;

            app.stage.addChild(graphic1, label1, graphic2, label2, graphic3, label3, graphic4, label4);
        })();
    </script>
</body>
</html>
