{"version":3,"sources":["../../src/core/Application.js"],"names":["Application","options","arg2","arg3","arg4","arg5","Object","assign","width","height","RENDER_OPTIONS","forceCanvas","sharedTicker","_options","sharedLoader","renderer","stage","_ticker","ticker","start","render","stop","destroy","removeView","oldTicker","remove","add","LOW","view","screen"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;;IAkBqBA,W;AAEjB;AACA;;;;;;;;;;;;;;;;AAgBA,yBAAYC,OAAZ,EAAqBC,IAArB,EAA2BC,IAA3B,EAAiCC,IAAjC,EAAuCC,IAAvC,EACA;AAAA;;AACI;AACA,YAAI,OAAOJ,OAAP,KAAmB,QAAvB,EACA;AACIA,sBAAUK,OAAOC,MAAP,CAAc;AACpBC,uBAAOP,OADa;AAEpBQ,wBAAQP,QAAQ,mBAASQ,cAAT,CAAwBD,MAFpB;AAGpBE,6BAAa,CAAC,CAACP,IAHK;AAIpBQ,8BAAc,CAAC,CAACP;AAJI,aAAd,EAKPF,IALO,CAAV;AAMH;;AAED;;;;;AAKA,aAAKU,QAAL,GAAgBZ,UAAUK,OAAOC,MAAP,CAAc;AACpCK,0BAAc,KADsB;AAEpCD,yBAAa,KAFuB;AAGpCG,0BAAc;AAHsB,SAAd,EAIvBb,OAJuB,CAA1B;;AAMA;;;;AAIA,aAAKc,QAAL,GAAgB,4CAAmBd,OAAnB,CAAhB;;AAEA;;;;AAIA,aAAKe,KAAL,GAAa,yBAAb;;AAEA;;;;;AAKA,aAAKC,OAAL,GAAe,IAAf;;AAEA;;;;;AAKA,aAAKC,MAAL,GAAcjB,QAAQW,YAAR,oBAAgC,oBAA9C;;AAEA;AACA,aAAKO,KAAL;AACH;;AAmBD;;;0BAGAC,M,qBACA;AACI,aAAKL,QAAL,CAAcK,MAAd,CAAqB,KAAKJ,KAA1B;AACH,K;;AAED;;;;;0BAGAK,I,mBACA;AACI,aAAKJ,OAAL,CAAaI,IAAb;AACH,K;;AAED;;;;;0BAGAF,K,oBACA;AACI,aAAKF,OAAL,CAAaE,KAAb;AACH,K;;AAED;;;;;;;AAoBA;;;;0BAIAG,O,oBAAQC,U,EACR;AACI,YAAMC,YAAY,KAAKP,OAAvB;;AAEA,aAAKC,MAAL,GAAc,IAAd;;AAEAM,kBAAUF,OAAV;;AAEA,aAAKN,KAAL,CAAWM,OAAX;AACA,aAAKN,KAAL,GAAa,IAAb;;AAEA,aAAKD,QAAL,CAAcO,OAAd,CAAsBC,UAAtB;AACA,aAAKR,QAAL,GAAgB,IAAhB;;AAEA,aAAKF,QAAL,GAAgB,IAAhB;AACH,K;;;;0BAhFUK,M,EAAQ;AACnB;AACI,gBAAI,KAAKD,OAAT,EACA;AACI,qBAAKA,OAAL,CAAaQ,MAAb,CAAoB,KAAKL,MAAzB,EAAiC,IAAjC;AACH;AACD,iBAAKH,OAAL,GAAeC,MAAf;AACA,gBAAIA,MAAJ,EACA;AACIA,uBAAOQ,GAAP,CAAW,KAAKN,MAAhB,EAAwB,IAAxB,EAA8B,uBAAgBO,GAA9C;AACH;AACJ,S;4BACY;AACb;AACI,mBAAO,KAAKV,OAAZ;AACH;;;4BAgCD;AACI,mBAAO,KAAKF,QAAL,CAAca,IAArB;AACH;;AAED;;;;;;;;4BAMA;AACI,mBAAO,KAAKb,QAAL,CAAcc,MAArB;AACH;;;;;;kBApIgB7B,W","file":"Application.js","sourcesContent":["import { autoDetectRenderer } from './autoDetectRenderer';\nimport Container from './display/Container';\nimport { shared, Ticker } from './ticker';\nimport settings from './settings';\nimport { UPDATE_PRIORITY } from './const';\n\n/**\n * Convenience class to create a new PIXI application.\n * This class automatically creates the renderer, ticker\n * and root container.\n *\n * @example\n * // Create the application\n * const app = new PIXI.Application();\n *\n * // Add the view to the DOM\n * document.body.appendChild(app.view);\n *\n * // ex, add display objects\n * app.stage.addChild(PIXI.Sprite.fromImage('something.png'));\n *\n * @class\n * @memberof PIXI\n */\nexport default class Application\n{\n    // eslint-disable-next-line valid-jsdoc\n    /**\n     * @param {object} [options] - The optional renderer parameters\n     * @param {number} [options.width=800] - the width of the renderers view\n     * @param {number} [options.height=600] - the height of the renderers view\n     * @param {HTMLCanvasElement} [options.view] - the canvas to use as a view, optional\n     * @param {boolean} [options.transparent=false] - If the render view is transparent, default false\n     * @param {boolean} [options.antialias=false] - sets antialias (only applicable in chrome at the moment)\n     * @param {boolean} [options.preserveDrawingBuffer=false] - enables drawing buffer preservation, enable this if you\n     *      need to call toDataUrl on the webgl context\n     * @param {number} [options.resolution=1] - The resolution / device pixel ratio of the renderer, retina would be 2\n     * @param {boolean} [options.forceCanvas=false] - prevents selection of WebGL renderer, even if such is present\n     * @param {boolean} [options.legacy=false] - If true Pixi will aim to ensure compatibility\n     * with older / less advanced devices. If you experience unexplained flickering try setting this to true.\n     * @param {boolean} [options.sharedTicker=false] - `true` to use PIXI.ticker.shared, `false` to create new ticker.\n     * @param {boolean} [options.sharedLoader=false] - `true` to use PIXI.loaders.shared, `false` to create new Loader.\n     */\n    constructor(options, arg2, arg3, arg4, arg5)\n    {\n        // Support for constructor(width, height, options, noWebGL, useSharedTicker)\n        if (typeof options === 'number')\n        {\n            options = Object.assign({\n                width: options,\n                height: arg2 || settings.RENDER_OPTIONS.height,\n                forceCanvas: !!arg4,\n                sharedTicker: !!arg5,\n            }, arg3);\n        }\n\n        /**\n         * The default options, so we mixin functionality later.\n         * @member {object}\n         * @protected\n         */\n        this._options = options = Object.assign({\n            sharedTicker: false,\n            forceCanvas: false,\n            sharedLoader: false,\n        }, options);\n\n        /**\n         * WebGL renderer if available, otherwise CanvasRenderer\n         * @member {PIXI.WebGLRenderer|PIXI.CanvasRenderer}\n         */\n        this.renderer = autoDetectRenderer(options);\n\n        /**\n         * The root display container that's rendered.\n         * @member {PIXI.Container}\n         */\n        this.stage = new Container();\n\n        /**\n         * Internal reference to the ticker\n         * @member {PIXI.ticker.Ticker}\n         * @private\n         */\n        this._ticker = null;\n\n        /**\n         * Ticker for doing render updates.\n         * @member {PIXI.ticker.Ticker}\n         * @default PIXI.ticker.shared\n         */\n        this.ticker = options.sharedTicker ? shared : new Ticker();\n\n        // Start the rendering\n        this.start();\n    }\n\n    set ticker(ticker) // eslint-disable-line require-jsdoc\n    {\n        if (this._ticker)\n        {\n            this._ticker.remove(this.render, this);\n        }\n        this._ticker = ticker;\n        if (ticker)\n        {\n            ticker.add(this.render, this, UPDATE_PRIORITY.LOW);\n        }\n    }\n    get ticker() // eslint-disable-line require-jsdoc\n    {\n        return this._ticker;\n    }\n\n    /**\n     * Render the current stage.\n     */\n    render()\n    {\n        this.renderer.render(this.stage);\n    }\n\n    /**\n     * Convenience method for stopping the render.\n     */\n    stop()\n    {\n        this._ticker.stop();\n    }\n\n    /**\n     * Convenience method for starting the render.\n     */\n    start()\n    {\n        this._ticker.start();\n    }\n\n    /**\n     * Reference to the renderer's canvas element.\n     * @member {HTMLCanvasElement}\n     * @readonly\n     */\n    get view()\n    {\n        return this.renderer.view;\n    }\n\n    /**\n     * Reference to the renderer's screen rectangle. Its safe to use as filterArea or hitArea for whole screen\n     * @member {PIXI.Rectangle}\n     * @readonly\n     */\n    get screen()\n    {\n        return this.renderer.screen;\n    }\n\n    /**\n     * Destroy and don't use after this.\n     * @param {Boolean} [removeView=false] Automatically remove canvas from DOM.\n     */\n    destroy(removeView)\n    {\n        const oldTicker = this._ticker;\n\n        this.ticker = null;\n\n        oldTicker.destroy();\n\n        this.stage.destroy();\n        this.stage = null;\n\n        this.renderer.destroy(removeView);\n        this.renderer = null;\n\n        this._options = null;\n    }\n}\n"]}